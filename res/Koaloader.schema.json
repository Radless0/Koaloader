{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://raw.githubusercontent.com/acidicoala/Koaloader/refs/tags/v3.0.4/res/Koaloader.schema.json",
  "title": "Koaloader Configuration Schema",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "$schema": {
      "type": "string",
      "description": "The JSON schema URI describing this file.",
      "x-default": "[Koaloader.schema.json](res/Koaloader.schema.json)",
      "x-valid-values": "URL to a valid Koaloader config JSON schema."
    },
    "$version": {
      "type": "integer",
      "description": "Reserved for use by tools like GUI config editors.",
      "const": 1,
      "x-valid-values": "Integer numbers from 1 and beyond."
    },
    "logging": {
      "type": "boolean",
      "default": false,
      "description": "Enables or disables logging into a Koaloader.log file.",
      "x-packaged-default": true,
      "x-valid-values": "`true` or `false`."
    },
    "enabled": {
      "type": "boolean",
      "default": true,
      "description": "Entirely enables or disables Koaloader injection. Can be used to quickly disable Koaloader without modifying files on disk.",
      "x-valid-values": "`true` or `false`."
    },
    "auto_load": {
      "type": "boolean",
      "default": true,
      "description": "Enables or disables automatic loading of well-known DLLs. When enabled, Koaloader will try to find well-known DLLs in parent directories or recursively in the search directories.",
      "x-valid-values": "`true` or `false`."
    },
    "targets": {
      "type": "array",
      "default": [],
      "description": "A list of strings that specify targeted executables. Koaloader will inject modules if the list is empty or includes the executable.",
      "items": {
        "type": "string"
      },
      "x-valid-values": "An array of executable file names."
    },
    "modules": {
      "type": "array",
      "default": [],
      "description": "A list of objects that describe modules that will be loaded in the order they were defined.",
      "items": {
        "type": "object",
        "properties": {
          "path": {
            "type": "string",
            "description": "A string that specifies absolute or relative path to a DLL. The relative path is with respect to the working directory."
          },
          "required": {
            "type": "boolean",
            "description": "A boolean that marks the module as required for loading. Failure to load required modules will result in a crash. Default: true."
          }
        },
        "additionalProperties": false
      },
      "x-valid-values": "An list of objects to inject."
    },
    "hide_files": {
      "type": "array",
      "default": [],
      "description": "A list of strings that specify files that the target process should not see.",
      "items": {
        "type": "string"
      },
      "x-valid-values": "A list of string file names to hide."
    }
  },
  "additionalProperties": false,
  "examples": [
    {
      "$schema": "https://raw.githubusercontent.com/acidicoala/Koaloader/refs/tags/v3.0.4/res/Koaloader.schema.json",
      "$version": 1,
      "logging": true,
      "enabled": true,
      "auto_load": false,
      "targets": [
        "program32.exe",
        "program64.exe"
      ],
      "modules": [
        {
          "path": "target.dll",
          "required": true
        },
        {
          "path": "C:/users/acidicoala/eucalyptus.dll",
          "required": false
        }
      ],
      "hide_files": [
        "version.dll",
        "target,dll"
      ]
    }
  ]
}